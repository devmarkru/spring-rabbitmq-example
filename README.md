# spring-rabbitmq-example
Пример взаимодействия с **RabbitMQ** на **Spring** и **Kotlin**.

## Описание
В основе проекта лежит управление статусами задач и подзадач с помощью **RabbitMQ**. Для хранения сущностей используется СУБД **H2**, которая работает в оперативной памяти и не требует установки. Взаимодействие с БД происходит с помощью **Spring Data JPA**.

Взаимосвязь между статусами:
1. если все подзадачи в статусе `NEW` - родительная задача также в статусе `NEW`
2. если хотя бы одна подзадача в статусе `IN_PROGRESS` или `NEW` - родительская задача переходит в `IN_PROGRESS`
3. если все подзадачи в статусе `COMPLETED` - задача также переходит в `COMPLETED`

Такой набор правил обеспечивает соответствие статуса задачи при изменении статуса подзадачи, а также при добавлении новой подзадачи, когда все остальные уже завершены.

Также есть пример для динамического включения и отключения уведомлений об изменении статуса.

## Запуск проекта
Для запуска требуется установить значения 4-х переменных окружения для подключения к RabbitMQ:
- RABBIT_HOST
- RABBIT_PORT
- RABBIT_USER
- RABBIT_PASSWORD

В проекте уже есть `Dockerfile`, поэтому его можно легко развернуть в облачном хостинге. Например, на [dockhost.ru](https://dockhost.ru/?utm_source=devmark&utm_medium=cpa&utm_campaign=devmark).

### Полезные ссылки
* [Новости проекта](https://t.me/+RjrPWNUEwf8wZTMy) и короткие заметки.
* Ещё больше статей по разработке ПО вы можете найти на моём сайте [devmark.ru](https://devmark.ru/).